<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="io.information.modules.app.dao.InCardBaseDao">
    <update id="addALike" parameterType="java.lang.Long">
         update in_card_base set c_like=c_like+1 where c_id=#{cid}
    </update>
    <update id="addACollect" parameterType="java.lang.Long">
         update in_card_base set c_collect=c_collect+1 where c_id=#{cid}
    </update>
    <select id="searchTitleAndId" resultType="io.information.modules.app.vo.CardBaseVo">
        SELECT c_id,c_title,c_like FROM in_card_base WHERE u_id = #{uId} LIMIT #{currPage},#{pageSize}
    </select>
    <select id="searchBaseByLike" resultType="io.information.modules.app.vo.CardBaseVo">
        SELECT * FROM (SELECT c_id,c_title FROM in_card_base ORDER BY c_like DESC) AS base LIMIT 5
    </select>
    <select id="searchBaseByTime" resultType="io.information.modules.app.vo.DynamicCardVo">
        SELECT * FROM (SELECT c_id,c_title,c_create_time FROM in_card_base ORDER BY c_create_time DESC) AS base LIMIT 5
    </select>
    <update id="addReadNumber" parameterType="java.lang.Long">
         update in_card_base set c_read_number=#{number} where c_id=#{cId}
    </update>
</mapper>
